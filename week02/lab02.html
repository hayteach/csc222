<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 02: Person Class - Java/Python to C++ - CSC 222</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Skip to main content link for keyboard users */
        .skip-to-main {
            position: absolute;
            left: -9999px;
            z-index: 999;
            padding: 1em;
            background-color: #2c3e50;
            color: white;
            text-decoration: none;
            font-weight: bold;
        }
        
        .skip-to-main:focus {
            left: 50%;
            transform: translateX(-50%);
            top: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }
        
        header::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 0;
            right: 0;
            height: 20px;
            background: white;
            border-radius: 50% 50% 0 0 / 100% 100% 0 0;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        /* Menu Button */
        #menuBtn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            font-size: 16px;
        }
        
        #menuBtn.visible {
            opacity: 1;
        }
        
        #menuBtn:hover, #menuBtn:focus {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            outline: 3px solid #667eea;
            outline-offset: 2px;
        }
        
        /* Table of Contents */
        #tableOfContents {
            position: fixed;
            top: 70px;
            right: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            padding: 20px;
            max-width: 280px;
            max-height: 80vh;
            overflow-y: auto;
            z-index: 999;
            display: none;
        }
        
        #tableOfContents.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        #tableOfContents h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        
        #tableOfContents ul {
            list-style: none;
            padding: 0;
        }
        
        #tableOfContents li {
            margin: 8px 0;
        }
        
        #tableOfContents a {
            color: #667eea;
            text-decoration: none;
            display: block;
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        #tableOfContents a:hover, #tableOfContents a:focus {
            background: #f0f0f0;
            padding-left: 16px;
            color: #764ba2;
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }
        
        #tableOfContents a.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
        }
        
        main {
            padding: 40px;
        }
        
        section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            scroll-margin-top: 20px;
        }
        
        section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        section h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        section p {
            margin-bottom: 15px;
            line-height: 1.8;
        }
        
        section ul, section ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        section li {
            margin-bottom: 10px;
            line-height: 1.8;
        }
        
        /* Ensure focus indicators are visible */
        a:focus, button:focus {
            outline: 3px solid #667eea;
            outline-offset: 2px;
        }
        
        a {
            color: #4a5fc1;
            text-decoration: underline;
            transition: color 0.3s;
        }
        
        a:hover {
            color: #5a3a8f;
        }
        
        .objective-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .objective-box h3 {
            color: white;
            margin: 0 0 15px 0;
            font-size: 1.5em;
        }
        
        .objective-box p {
            margin: 0;
            font-size: 1.1em;
        }
        
        .important-note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .important-note strong {
            color: #856404;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .success-box strong {
            color: #155724;
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .info-box strong {
            color: #1976d2;
        }
        
        .resource-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .resource-card:hover, .resource-card:focus-within {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }
        
        .resource-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .download-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        .download-box h3 {
            color: white;
            margin: 0 0 20px 0;
        }
        
        .download-links {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 15px;
        }
        
        .download-links a {
            display: block;
            background: white;
            color: #667eea;
            padding: 15px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .download-links a:hover, .download-links a:focus {
            background: #f0f0f0;
            transform: scale(1.02);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .download-links a::before {
            content: 'üì• ';
            margin-right: 8px;
        }
        
        .video-box {
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .video-box h3 {
            color: white;
            margin-top: 0;
        }
        
        .video-link {
            display: block;
            background: #667eea;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px 0;
            transition: all 0.3s;
        }
        
        .video-link:hover, .video-link:focus {
            background: #764ba2;
            transform: translateX(5px);
        }
        
        .video-link::before {
            content: '‚ñ∂ ';
            margin-right: 8px;
        }
        
        .transcript-links {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        
        .transcript-links a {
            color: #ecf0f1;
            display: block;
            margin: 8px 0;
        }
        
        .checklist {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .checklist h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        .checklist-item {
            padding: 12px;
            margin: 10px 0;
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .checklist-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .checklist-item label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: 500;
        }
        
        .checklist-item input[type="checkbox"] {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        /* Back to Top Button */
        #backToTop {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            width: 50px;
            height: 50px;
        }
        
        #backToTop.visible {
            opacity: 1;
        }
        
        #backToTop:hover, #backToTop:focus {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        
        /* Hide decorative emojis from screen readers */
        .emoji {
            aria-hidden: true;
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            main {
                padding: 20px;
            }
            
            section {
                padding: 20px;
            }
            
            #tableOfContents {
                max-width: 90%;
                right: 5%;
            }
            
            .resource-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            #menuBtn, #backToTop {
                border: 2px solid white;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    
    <button id="menuBtn" aria-label="Toggle table of contents" aria-expanded="false">
        <span class="emoji" aria-hidden="true">üìë</span> Menu
    </button>
    
    <nav id="tableOfContents" role="navigation" aria-label="Table of contents">
        <h3>Contents</h3>
        <ul>
            <li><a href="#overview">Lab Overview</a></li>
            <li><a href="#video">Video Tutorial</a></li>
            <li><a href="#resources">Code Resources</a></li>
            <li><a href="#requirements">Requirements</a></li>
            <li><a href="#submission">Submission</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <header role="banner">
            <h1><span class="emoji" aria-hidden="true">üîÑ</span> Lab 02: Translation Time!</h1>
            <p>Converting a Person Class from Java/Python to C++</p>
        </header>
        
        <main id="main-content" role="main">
            <div class="objective-box" role="region" aria-labelledby="objective-heading">
                <h3 id="objective-heading"><span class="emoji" aria-hidden="true">üéØ</span> Lab Objective</h3>
                <p>Become a code translator! <span class="emoji" aria-hidden="true">üåê</span> Take a working Person class written in Java or Python and translate it into C++. This is like learning how to say "Hello" in different languages, but for programming! You'll see that the concepts are the same, but the syntax (the "accent") is different.</p>
            </div>
            
            <section id="overview" aria-labelledby="overview-heading">
                <h2 id="overview-heading"><span class="emoji" aria-hidden="true">üìö</span> What's This Lab All About?</h2>
                <p>Welcome to your translation lab! <span class="emoji" aria-hidden="true">‚ú®</span> If you've programmed in Java or Python (from CSC 221), this is going to feel familiar AND different at the same time. That's the fun part!</p>
                
                <p><strong>The Mission:</strong> <span class="emoji" aria-hidden="true">üöÄ</span></p>
                <p>You'll take a Person class (provided in both Java and Python) and convert it to C++. This Person class stores basic info about a person - name, age, that kind of thing. Simple concept, but you'll learn a lot about C++ along the way!</p>
                
                <div class="info-box" role="note">
                    <strong><span class="emoji" aria-hidden="true">ü§î</span> Why are we doing this?</strong>
                    <ul class="list-indent">
                        <li><span class="emoji" aria-hidden="true">üß©</span> See how object-oriented concepts work across languages</li>
                        <li><span class="emoji" aria-hidden="true">üîç</span> Learn C++ class structure (header files, implementation files)</li>
                        <li><span class="emoji" aria-hidden="true">‚ö°</span> Understand the differences: pointers, memory management, compilation</li>
                        <li><span class="emoji" aria-hidden="true">üí™</span> Build your confidence translating code between languages</li>
                    </ul>
                </div>
                
                <p><strong>What you'll create:</strong></p>
                <ol>
                    <li><span class="emoji" aria-hidden="true">üìÑ</span> <strong>Person.h</strong> - The header file (like a blueprint/interface)</li>
                    <li><span class="emoji" aria-hidden="true">üìÑ</span> <strong>Person.cpp</strong> - The implementation file (where the actual code lives)</li>
                    <li><span class="emoji" aria-hidden="true">üìÑ</span> <strong>main.cpp</strong> - Your driver program (tests your Person class)</li>
                </ol>
                
                <div class="important-note" role="note">
                    <strong><span class="emoji" aria-hidden="true">üí°</span> Pro Tip:</strong> Unlike Java or Python where everything can go in one file, C++ typically splits classes into header files (.h) and implementation files (.cpp). It's like separating the recipe card from the actual cooking! This takes some getting used to, but it makes large projects more organized. <span class="emoji" aria-hidden="true">üìã</span>
                </div>
            </section>
            
            <section id="video" class="video-box" aria-labelledby="video-heading">
                <h3 id="video-heading"><span class="emoji" aria-hidden="true">üé¨</span> Video Demo & Tutorial</h3>
                <p>Watch this walkthrough BEFORE you start! <span class="emoji" aria-hidden="true">üçø</span> I'll show you exactly how to approach this translation, point out the tricky parts, and demonstrate what your final program should do.</p>
                
                <a href="https://youtu.be/ToInDqly24E" target="_blank" rel="noopener" class="video-link" aria-label="Watch lab demonstration video (opens in new window)">
                    Watch the Demo Video
                </a>
                
                <div class="transcript-links">
                    <p><strong><span class="emoji" aria-hidden="true">üìù</span> Transcripts Available:</strong></p>
                    <a href="https://mendocino.instructure.com/courses/21391/files/2621466/download" target="_blank" rel="noopener" aria-label="Download English transcript (opens in new window)">
                        <span class="emoji" aria-hidden="true">üá∫üá∏</span> English Transcript (.txt)
                    </a>
                    <a href="https://mendocino.instructure.com/courses/21391/files/2621468/download" target="_blank" rel="noopener" aria-label="Download Spanish transcript (opens in new window)">
                        <span class="emoji" aria-hidden="true">üá™üá∏</span> Transcripci√≥n en Espa√±ol (.txt)
                    </a>
                    <p class="small-muted"><em>Note: Transcripts generated using Google's automatic speech-to-text</em></p>
                </div>
            </section>
            
            <section id="resources" aria-labelledby="resources-heading">
                <h2 id="resources-heading"><span class="emoji" aria-hidden="true">üì¶</span> Starter Code & Resources</h2>
                <p>Download the code files below. You can use EITHER the Java version OR the Python version as your reference - whichever you're more comfortable with! <span class="emoji" aria-hidden="true">üòä</span></p>
                
                <div class="resource-grid">
                    <div class="download-box">
                        <h3><span class="emoji" aria-hidden="true">‚òï</span> Java Version</h3>
                        <p style="margin-bottom: 15px;">If you're coming from Java (CSC 221)</p>
                        <div class="download-links">
                            <a href="https://mendocino.instructure.com/courses/21391/files/2621470/download" target="_blank" rel="noopener" aria-label="Download Person.java file (opens in new window)">
                                Person.java
                            </a>
                            <a href="https://mendocino.instructure.com/courses/21391/files/2621469/download" target="_blank" rel="noopener" aria-label="Download PersonDriver.java file (opens in new window)">
                                PersonDriver.java
                            </a>
                        </div>
                    </div>
                    
                    <div class="download-box">
                        <h3><span class="emoji" aria-hidden="true">üêç</span> Python Version</h3>
                        <p style="margin-bottom: 15px;">If you prefer Python</p>
                        <div class="download-links">
                            <a href="https://mendocino.instructure.com/courses/21391/files/2621471/download" target="_blank" rel="noopener" aria-label="Download people.py file (opens in new window)">
                                people.py
                            </a>
                            <a href="https://mendocino.instructure.com/courses/21391/files/2621472/download" target="_blank" rel="noopener" aria-label="Download people_test.py file (opens in new window)">
                                people_test.py
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="success-box" role="note">
                    <strong><span class="emoji" aria-hidden="true">üéì</span> Learning Strategy:</strong> Don't just copy and paste! Read through the Java or Python code first. Understand what each part does. THEN think about how you'd write that in C++. The translation process is where the learning happens! <span class="emoji" aria-hidden="true">üß†</span>
                </div>
            </section>
            
            <section id="requirements" aria-labelledby="requirements-heading">
                <h2 id="requirements-heading"><span class="emoji" aria-hidden="true">‚úÖ</span> What You Need to Do</h2>
                
                <h3><span class="emoji" aria-hidden="true">üìù</span> Step-by-Step Guide:</h3>
                <ol>
                    <li><strong>Download and study</strong> either the Java or Python version of the code</li>
                    <li><strong>Create Person.h</strong> - Define your class structure (member variables, function declarations)</li>
                    <li><strong>Create Person.cpp</strong> - Implement all the functions you declared in Person.h</li>
                    <li><strong>Create main.cpp</strong> - Write a driver program that tests your Person class (similar to the provided driver)</li>
                    <li><strong>Compile and test</strong> - Make sure everything works! Fix any errors</li>
                    <li><strong>Verify output</strong> - Does your program do what the Java/Python version does?</li>
                </ol>
                
                <div class="important-note" role="note">
                    <strong><span class="emoji" aria-hidden="true">üîß</span> C++ Specific Things to Remember:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><span class="emoji" aria-hidden="true">üìå</span> Use <code>#include</code> directives at the top of your files</li>
                        <li><span class="emoji" aria-hidden="true">üõ°Ô∏è</span> Add include guards to your header file (we talked about these!)</li>
                        <li><span class="emoji" aria-hidden="true">üéØ</span> Don't forget semicolons after class declarations!</li>
                        <li><span class="emoji" aria-hidden="true">üí¨</span> Use <code>cout</code> instead of <code>System.out.println()</code> or <code>print()</code></li>
                        <li><span class="emoji" aria-hidden="true">üîó</span> Remember to compile ALL your .cpp files together</li>
                    </ul>
                </div>
                
                <h3><span class="emoji" aria-hidden="true">üéØ</span> Completion Checklist:</h3>
                <div class="checklist">
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="Downloaded and reviewed starter code">
                            <span>Downloaded and reviewed the Java or Python starter code</span>
                        </label>
                    </div>
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="Created Person.h with class definition">
                            <span>Created Person.h with class definition and include guards</span>
                        </label>
                    </div>
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="Created Person.cpp with implementations">
                            <span>Created Person.cpp with all function implementations</span>
                        </label>
                    </div>
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="Created main.cpp driver program">
                            <span>Created main.cpp driver program that tests the Person class</span>
                        </label>
                    </div>
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="Program compiles without errors">
                            <span>Program compiles without errors</span>
                        </label>
                    </div>
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="Program runs and produces correct output">
                            <span>Program runs and produces correct output</span>
                        </label>
                    </div>
                    <div class="checklist-item">
                        <label>
                            <input type="checkbox" aria-label="All files ready for submission">
                            <span>All source files zipped and ready for submission</span>
                        </label>
                    </div>
                </div>
            </section>
            
            <section id="submission" aria-labelledby="submission-heading">
                <h2 id="submission-heading"><span class="emoji" aria-hidden="true">üì§</span> How to Submit</h2>
                
                <p><strong>Create a .zip archive containing:</strong></p>
                <ul>
                    <li><span class="emoji" aria-hidden="true">üìÑ</span> Person.h</li>
                    <li><span class="emoji" aria-hidden="true">üìÑ</span> Person.cpp</li>
                    <li><span class="emoji" aria-hidden="true">üìÑ</span> main.cpp (or whatever you named your driver program)</li>
                </ul>
                
                <div class="important-note" role="note">
                    <strong><span class="emoji" aria-hidden="true">‚ö†Ô∏è</span> Important Submission Notes:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Include ALL source code files (.h and .cpp files)</li>
                        <li>Make sure your code compiles BEFORE submitting</li>
                        <li>Test your program to verify it works correctly</li>
                        <li>Don't submit executable files (.exe, .o, etc.) - just source code!</li>
                    </ul>
                </div>
                
                <p><strong>Submission checklist:</strong></p>
                <ol>
                    <li><span class="emoji" aria-hidden="true">‚úì</span> All three files created and tested</li>
                    <li><span class="emoji" aria-hidden="true">‚úì</span> Files zipped into a single archive</li>
                    <li><span class="emoji" aria-hidden="true">‚úì</span> Archive uploaded to Canvas assignment</li>
                </ol>
                
                <div class="success-box" role="note">
                    <strong><span class="emoji" aria-hidden="true">üéâ</span> You Did It!</strong> Converting code between languages is a valuable skill! This shows you understand the underlying concepts, not just the syntax. Many professional programmers work in multiple languages - you're building that skillset right now! <span class="emoji" aria-hidden="true">üåü</span>
                </div>
                
                <div class="info-box" role="note">
                    <strong><span class="emoji" aria-hidden="true">üÜò</span> Need Help?</strong> If you get stuck:
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Watch the video demo again (seriously, it helps!)</li>
                        <li>Review the week's lecture materials on classes</li>
                        <li>Check the discussion board - someone might have had the same question</li>
                        <li>Come to office hours or our Zoom meeting</li>
                        <li>Message me! I'm here to help you succeed! <span class="emoji" aria-hidden="true">üí™</span></li>
                    </ul>
                </div>
            </section>
        </main>
    </div>
    
    <button id="backToTop" aria-label="Back to top">
        <span aria-hidden="true">‚Üë</span>
    </button>
    
    <script>
        // Menu and TOC functionality
        const menuBtn = document.getElementById('menuBtn');
        const toc = document.getElementById('tableOfContents');
        const backToTopBtn = document.getElementById('backToTop');
        const sections = document.querySelectorAll('section[id]');
        const tocLinks = document.querySelectorAll('#tableOfContents a');
        
        let lastScrollTop = 0;
        let ticking = false;
        
        // Toggle menu
        menuBtn.addEventListener('click', function() {
            const isShowing = toc.classList.contains('show');
            toc.classList.toggle('show');
            menuBtn.setAttribute('aria-expanded', !isShowing);
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!toc.contains(event.target) && event.target !== menuBtn) {
                toc.classList.remove('show');
                menuBtn.setAttribute('aria-expanded', 'false');
            }
        });
        
        // Smooth scrolling for anchor links
        tocLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                    toc.classList.remove('show');
                    menuBtn.setAttribute('aria-expanded', 'false');
                    
                    // Set focus to the section for accessibility
                    targetSection.setAttribute('tabindex', '-1');
                    targetSection.focus();
                }
            });
        });
        
        // Scroll handling with requestAnimationFrame
        function updateOnScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            // Show/hide menu button
            if (scrollTop > 200) {
                menuBtn.classList.add('visible');
            } else {
                menuBtn.classList.remove('visible');
            }
            
            // Show/hide back to top button
            if (scrollTop > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
            
            // Highlight active section
            let currentSection = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                if (scrollTop >= sectionTop && scrollTop < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
            
            lastScrollTop = scrollTop;
            ticking = false;
        }
        
        window.addEventListener('scroll', function() {
            if (!ticking) {
                window.requestAnimationFrame(updateOnScroll);
                ticking = true;
            }
        });
        
        // Back to top functionality
        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        // Keyboard navigation for back to top
        backToTopBtn.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });
        
        // Initial call to set up buttons correctly
        updateOnScroll();
    </script>
</body>
</html>