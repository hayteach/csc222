<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 3: Pointers & Destructors (C++)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6; color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); overflow: hidden; }
        header { background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: white; padding: 30px; text-align: center; }
        header h1 { font-size: 2em; margin-bottom: 10px; }
        header p { font-size: 1.1em; opacity: 0.9; }
        .content { padding: 40px; }
        .toc { background: #f9f9f9; padding: 20px; border: 1px solid #ddd; border-radius: 8px; margin: 20px 0; }
        .toc h3 { margin-top: 0; color: #2c3e50; }
        .toc ul { list-style-type: none; padding-left: 0; }
        .toc li { margin: 8px 0; }
        .toc a { color: #667eea; text-decoration: none; font-weight: bold; transition: all 0.3s; }
        .toc a:hover { color: #764ba2; text-decoration: underline; }
        .section { margin-bottom: 40px; padding: 25px; background: #f8f9fa; border-radius: 10px; border-left: 5px solid #667eea; }
        h2 { color: #2c3e50; margin-bottom: 15px; font-size: 1.8em; }
        h3 { color: #34495e; margin: 20px 0 10px 0; font-size: 1.3em; }
        .code-block { background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 8px; margin: 10px 0; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 0.9em; }
        pre { margin: 0; white-space: pre-wrap; }
        .note { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .quiz-section { background: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 25px; margin: 30px 0; }
        .quiz-question { margin: 25px 0; padding: 20px; background: white; border-radius: 8px; }
        .quiz-question h4 { color: #2c3e50; margin-bottom: 15px; }
        .quiz-question label { display: block; padding: 10px; margin: 5px 0; background: #f8f9fa; border-radius: 5px; cursor: pointer; transition: background 0.2s; }
        .quiz-question label:hover { background: #e3f2fd; }
        .quiz-question input[type="radio"] { margin-right: 10px; }
        .check-answer-btn { background: #2196f3; color: white; border: none; padding: 10px 25px; border-radius: 6px; cursor: pointer; font-weight: 600; margin-top: 10px; transition: all 0.3s; }
        .check-answer-btn:hover { background: #1976d2; transform: translateY(-2px); }
        .feedback { margin-top: 10px; padding: 15px; border-radius: 6px; font-weight: 600; }
        .feedback.correct { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .feedback.incorrect { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .key-takeaway { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 8px; margin: 30px 0; }
        .key-takeaway ul { list-style-type: none; padding-left: 0; }
        .key-takeaway li { padding: 8px 0; padding-left: 25px; position: relative; }
        .key-takeaway li:before { content: "‚úì"; position: absolute; left: 0; font-weight: bold; font-size: 1.2em; }
        @media (max-width: 768px) { .content { padding: 20px; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Week 3: Pointers & Destructors</h1>
            <p>Understanding addresses, dynamic memory, and safe cleanup in C++ üîß</p>
        </header>

        <div class="content">
            <div class="note">
                <strong>üß† Quick note:</strong> Pointers let you work directly with memory addresses. They are powerful but require care ‚Äî especially with dynamic allocation and deallocation.
            </div>

            <div class="section">
                <h2 id="pointers">üìå What is a Pointer?</h2>
                <p>A pointer is a variable that stores the memory address of another value. Unlike Java or Python where references are managed for you, in C++ you explicitly create, use, and (sometimes) delete pointers.</p>

                <h3>Why care?</h3>
                <ul>
                    <li>Efficient low-level data manipulation</li>
                    <li>Dynamic memory: create objects that outlive the scope where they're created</li>
                    <li>Essential for advanced data structures (linked lists, trees) and APIs</li>
                </ul>
            </div>

            <div class="section" id="symbols">
                <h2>üî£ Pointer Symbols & Meaning</h2>
                <table style="width:100%; border-collapse: collapse;" border="1">
                    <thead>
                        <tr><th style="text-align:left; padding:8px;">Symbol</th><th style="text-align:left; padding:8px;">Meaning / Example</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding:8px;"><code>*</code></td>
                            <td style="padding:8px;"><p>The <code>*</code> defines a variable as a pointer and is used to dereference a pointer to access or modify the value stored at that address.</p>
                                <p><strong>Declaration:</strong> <code>int* p = nullptr;</code></p>
                                <p><strong>Dereference example:</strong> <code>*p = 5;</code> ‚Äî writes the value 5 into the location pointed to by <code>p</code>.</p>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding:8px;"><code>&amp;</code></td>
                            <td style="padding:8px;"><p>The <code>&amp;</code> operator returns the address of a variable (its memory location).</p>
                                <p><strong>Example:</strong> <code>int x = 3; int* p = &amp;x;</code> ‚Äî <code>p</code> now stores the address of <code>x</code>.</p>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding:8px;"><code>-&gt;</code></td>
                            <td style="padding:8px;"><p>The <code>-&gt;</code> operator accesses members of an object through a pointer to that object.</p>
                                <p><strong>Example:</strong> <code>card c('s',3); card* pc = &amp;c; pc->getValue();</code></p>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block">
<pre>// Create a pointer
int n = 10;
int* p = &n;        // p stores the address of n
cout << "n: " << n << " | address: " << p << endl;

// Dereference
*p = 20;           // changes n through the pointer
cout << "n now: " << n << endl;

// Dynamic allocation
int* arr = new int[5]; // allocate 5 ints on the heap
arr[0] = 42;
// ...
delete[] arr;           // free heap memory when done</pre>
                </div>

                <div class="note">
                    <strong>‚ö†Ô∏è Tip:</strong> Always initialize pointers (e.g., <code>nullptr</code>) and free dynamically allocated memory with <code>delete</code> or <code>delete[]</code> when appropriate.
                </div>
            </div>
<table style="border-collapse: collapse; width: 97.4128%;" border="1">
    <tbody>
        <tr>
            <td style="width: 49.9769%;">Symbol</td>
            <td style="width: 49.9769%;">Description</td>
        </tr>
        <tr>
            <td style="width: 49.9769%;">
                <pre>*</pre>
            </td>
            <td style="width: 49.9769%;">
                <p>The * defines a variable as a pointer. The basic syntax for creating a pointer is:</p>
                <pre>dataType* pointerName = nullptr;</pre>
                <p>Once a pointer is declared, the * can be used to "de-reference" the pointer which means to access the object/value of the address stored in the pointer.</p>
            </td>
        </tr>
        <tr>
            <td style="width: 49.9769%;">
                <pre>&amp;</pre>
            </td>
            <td style="width: 49.9769%;">
                <p>When the &amp; directly precedes a variable name, it returns the address in memory where that variable is stored.</p>
                <p>To get the address of a variable named card1, you would have:</p>
                <pre>&amp;card1</pre>
            </td>
        </tr>
        <tr>
            <td style="width: 49.9769%;">
                <pre>-&gt;</pre>
            </td>
            <td style="width: 49.9769%;">
                <p>This is called "pointer notation" and is used when a pointer points to an instance of a class (or points to an object). Pointer notation is used to access the methods of the object that the pointer holds the address to.</p>
                <p>So, if I have an object:</p>
                <pre>card card1('s', 3);</pre>
                <p>To access the "getValue()" method, we would:</p>
                <pre>card1.getValue();</pre>
                <p>If I have a pointer to card1:</p>
                <pre>card* ptrCard1 = &amp;card1;</pre>
                <p>To access the "getValue()" method using the pointer, we would have:</p>
                <pre>ptrCard1-&gt;getValue();</pre>
                <p>&nbsp;</p>
            </td>
        </tr>
    </tbody>
</table>
<div class="section" id="additional-resources">
    <h2>üîó Additional Resources</h2>
    <ul>
        <li><a href="https://youtu.be/_JAoGvOPT7A" target="_blank" rel="noopener">Pointers: Crash Course</a></li>
        <li><a href="https://youtu.be/o3CaZyVxkwg" target="_blank" rel="noopener">Why we need Destructors</a></li>
        <li>Files used in the demo: <a href="https://mendocino.instructure.com/courses/21391/files/2620330?wrap=1" target="_blank" rel="noopener">pointers.zip</a></li>
    </ul>
</div>

<div class="quiz-section" id="quiz">
    <h2>üìù Quick Quiz (Check your understanding)</h2>

    <div class="quiz-question" id="q1">
        <h4>1) What does <code>int* p;</code> declare?</h4>
        <label><input type="radio" name="q1" value="a"> A variable that stores an int value</label>
        <label><input type="radio" name="q1" value="b"> A variable that stores the address of an int</label>
        <label><input type="radio" name="q1" value="c"> A function returning an int</label>
        <button class="check-answer-btn" onclick="checkAnswer('q1', 'b', 1)">Check Answer</button>
        <div class="feedback" id="feedback1" style="display:none"></div>
    </div>

    <div class="quiz-question" id="q2">
        <h4>2) Which operator gives the address of a variable?</h4>
        <label><input type="radio" name="q2" value="a"> *</label>
        <label><input type="radio" name="q2" value="b"> -&gt;</label>
        <label><input type="radio" name="q2" value="c"> &amp;</label>
        <button class="check-answer-btn" onclick="checkAnswer('q2', 'c', 2)">Check Answer</button>
        <div class="feedback" id="feedback2" style="display:none"></div>
    </div>

    <div class="quiz-question" id="q3">
        <h4>3) Which is the correct way to free an array allocated with <code>new int[5]</code>?</h4>
        <label><input type="radio" name="q3" value="a"> delete ptr;</label>
        <label><input type="radio" name="q3" value="b"> delete[] ptr;</label>
        <label><input type="radio" name="q3" value="c"> free(ptr);</label>
        <button class="check-answer-btn" onclick="checkAnswer('q3', 'b', 3)">Check Answer</button>
        <div class="feedback" id="feedback3" style="display:none"></div>
    </div>

    <div class="quiz-question" id="q4">
        <h4>4) What does a destructor do?</h4>
        <label><input type="radio" name="q4" value="a"> Initializes member variables</label>
        <label><input type="radio" name="q4" value="b"> Cleans up resources when an object is destroyed</label>
        <label><input type="radio" name="q4" value="c"> Allocates dynamic memory</label>
        <button class="check-answer-btn" onclick="checkAnswer('q4', 'b', 4)">Check Answer</button>
        <div class="feedback" id="feedback4" style="display:none"></div>
    </div>

    <div style="margin-top:20px;">
        <button class="check-answer-btn" onclick="checkAll()">Check All</button>
        <div id="quiz-summary" style="margin-top:12px;font-weight:700"></div>
    </div>
</div>

<div class="note">
    <strong>üí° Next steps:</strong> Try the examples in <code>pointers.zip</code>, then refactor to use <code>std::unique_ptr</code> where possible.
</div>

</div>
</div>

<script>
    function checkAnswer(qName, correct, id) {
        const radios = document.getElementsByName(qName);
        let selected = null;
        for (const r of radios) { if (r.checked) selected = r.value; }
        const feedback = document.getElementById('feedback' + id);
        feedback.style.display = 'block';
        if (!selected) {
            feedback.textContent = 'Please select an answer.';
            feedback.className = 'feedback incorrect';
            return;
        }
        if (selected === correct) {
            feedback.textContent = 'Correct! ‚úÖ';
            feedback.className = 'feedback correct';
        } else {
            feedback.textContent = 'Incorrect. Try reviewing the section above. ‚ùå';
            feedback.className = 'feedback incorrect';
        }
    }

    function checkAll() {
        const answers = { q1: 'b', q2: 'c', q3: 'b', q4: 'b' };
        let score = 0; let total = Object.keys(answers).length;
        for (const [q, ans] of Object.entries(answers)) {
            const radios = document.getElementsByName(q);
            let selected = null; for (const r of radios) if (r.checked) selected = r.value;
            if (selected === ans) score++;
            const id = q.replace('q','');
            const feedback = document.getElementById('feedback' + id);
            feedback.style.display = 'block';
            if (!selected) { feedback.textContent = 'No answer selected.'; feedback.className='feedback incorrect'; }
            else if (selected === ans) { feedback.textContent = 'Correct! ‚úÖ'; feedback.className='feedback correct'; }
            else { feedback.textContent = 'Incorrect. ‚ùå'; feedback.className='feedback incorrect'; }
        }
        document.getElementById('quiz-summary').textContent = `You scored ${score} / ${total}.`;
    }
</script>

</body>
</html>